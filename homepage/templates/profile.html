{% extends 'base.html' %}
{% load static %}

{% block title %}
    Profile | We Can Project
{% endblock %}

{% block content %}
<div class="container my-5">
    <h1 class="text-center mb-4">Welcome, {{ subscriber.fname }} {{ subscriber.lname }}</h1>
    
    <div class="card p-4 shadow-sm mb-4">
        <div class="card-body">
            <p><strong>Account ID:</strong> {{ subscriber.account_id }}</p>
            <p><strong>Email:</strong> {{ subscriber.email }}</p>
            <p><strong>Phone:</strong> {{ subscriber.phone }}</p>
            <p><strong>Account Created On:</strong> {{ subscriber.created_at }}</p>
        </div>
    </div>

    <h2 class="text-center mb-4">Recycling History</h2>
    <ul class="list-group mb-4">
        {% for history in subscriber.recycling_history.all %}
            <li class="list-group-item">
                <strong>Date:</strong> {{ history.date }} |
                <strong>Items Recycled:</strong> {{ history.items_recycled }} |
                <strong>Points Earned:</strong> {{ history.points_earned }}
            </li>
        {% empty %}
            <li class="list-group-item">No recycling history available.</li>
        {% endfor %}
    </ul>

    <h2 class="text-center mb-4">Account Balance</h2>
    <div class="card p-4 shadow-sm">
        <div class="card-body">
            <p><strong>Balance:</strong> ${{ subscriber.account_balance.balance }}</p>
        </div>
    </div>
</div>
{% endblock %}
